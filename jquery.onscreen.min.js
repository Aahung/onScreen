(function(e){e.fn.onScreen=function(t){var n=e.extend({doIn:function(){console.log("on screen")},doOut:function(){console.log("off screen")},tolerance:0},t);return this.each(function(){function s(){return elTop<winBottom-n.tolerance&&r<elTop+elHeight-n.tolerance&&!t}function o(){return elTop+elHeight<r&&t||elTop>winBottom&&t}function u(){$win=e(window);winHeight=$win.height();winWidth=$win.width();winBottom=$win.scrollTop()+winHeight;elHeight=i.height();elWidth=i.height();elTop=i.offset().top;elLeft=i.offset().left;r=$win.scrollTop();if(s()){i.addClass("onScreen");n.doIn.call(i[0]);t=true}else if(o()){i.removeClass("onScreen");n.doOut.call(i[0]);t=false}}var t=false;var r;var i=e(this);e(window).on("scroll",u).on("resize",u).on("load",u)});return this}})(jQuery)