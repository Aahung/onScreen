(function(f){f.fn.onScreen=function(u){var a=f.extend({container:window,direction:"vertical",toggleClass:!0,doIn:null,doOut:null,tolerance:0,lazyAttr:null,lazyPlaceholder:"data:image/gif;base64,R0lGODlhEAAFAIAAAP///////yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQAAACwAAAAAEAAFAAACCIyPqcvtD00BACH5BAkJAAIALAAAAAAQAAUAgfT29Pz6/P///wAAAAIQTGCiywKPmjxUNhjtMlWrAgAh+QQJCQAFACwAAAAAEAAFAIK8urzc2tzEwsS8vrzc3tz///8AAAAAAAADFEiyUf6wCEBHvLPemIHdTzCMDegkACH5BAkJAAYALAAAAAAQAAUAgoSChLS2tIyKjLy+vIyOjMTCxP///wAAAAMUWCQ09jAaAiqQmFosdeXRUAkBCCUAIfkECQkACAAsAAAAABAABQCDvLq83N7c3Nrc9Pb0xMLE/P78vL68/Pr8////AAAAAAAAAAAAAAAAAAAAAAAAAAAABCEwkCnKGbegvQn4RjGMx8F1HxBi5Il4oEiap2DcVYlpZwQAIfkECQkACAAsAAAAABAABQCDvLq85OLkxMLE9Pb0vL685ObkxMbE/Pr8////AAAAAAAAAAAAAAAAAAAAAAAAAAAABCDwnCGHEcIMxPn4VAGMQNBx0zQEZHkiYNiap5RaBKG9EQAh+QQJCQAJACwAAAAAEAAFAIOEgoTMysyMjozs6uyUlpSMiozMzsyUkpTs7uz///8AAAAAAAAAAAAAAAAAAAAAAAAEGTBJiYgoBM09DfhAwHEeKI4dGKLTIHzCwEUAIfkECQkACAAsAAAAABAABQCDvLq85OLkxMLE9Pb0vL685ObkxMbE/Pr8////AAAAAAAAAAAAAAAAAAAAAAAAAAAABCAQSTmMEGaco8+UBSACwWBqHxKOJYd+q1iaXFoRRMbtEQAh+QQJCQAIACwAAAAAEAAFAIO8urzc3tzc2tz09vTEwsT8/vy8vrz8+vz///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAEIhBJWc6wJZAtJh3gcRBAaXiIZV2kiRbgNZbA6VXiUAhGL0QAIfkECQkABgAsAAAAABAABQCChIKEtLa0jIqMvL68jI6MxMLE////AAAAAxRoumxFgoxGCbiANos145e3DJcQJAAh+QQJCQAFACwAAAAAEAAFAIK8urzc2tzEwsS8vrzc3tz///8AAAAAAAADFFi6XCQwtCmAHbPVm9kGWKcEQxkkACH5BAkJAAIALAAAAAAQAAUAgfT29Pz6/P///wAAAAIRlI8SAZsPYnuJMUCRnNksWwAAOw==",
debug:!1},u);return this.each(function(){function r(){a.container!=window&&"static"==f(a.container).css("position")&&f(a.container).css("position","relative");g=f(a.container);l=g.height();m=g.width();n=g.scrollTop()+l;p=g.scrollLeft()+m;h=b.outerHeight(!0);k=b.outerWidth(!0);a.container==window?(d=b.offset().top,e=b.offset().left):(d=b.position().top,e=b.position().left);s=g.scrollTop();t=g.scrollLeft();a.debug&&(console.log("Container: "+a.container+"\nWidth: "+l+"\nHeight: "+m+"\nBottom: "+n+"\nRight: "+
p),console.log("Matched element: "+("undefined"!=typeof b.attr("class")?b.prop("tagName").toLowerCase()+"."+b.attr("class"):b.prop("tagName").toLowerCase())+"\nLeft: "+e+"\nTop: "+d+"\nWidth: "+k+"\nHeight: "+h));var q;q="vertical"==a.direction?a.container==window?d<n-a.tolerance&&s<d+h-a.tolerance&&!c:d<l-a.tolerance&&d>-h+a.tolerance&&!c:"horizontal"==a.direction?a.container==window?e<p-a.tolerance&&t<e+k-a.tolerance&&!c:e<m-a.tolerance&&e>-k+a.tolerance&&!c:void 0;q?(a.toggleClass&&b.addClass("onScreen"),
"function"==typeof a.doIn&&a.doIn.call(b[0]),a.lazyAttr&&"IMG"===b.prop("tagName")&&(lazyImg=b.attr(a.lazyAttr),b.css({background:"url("+a.lazyPlaceholder+") center center no-repeat","min-height":"5px","min-width":"16px"}),b.prop("src",lazyImg)),c=!0):(q="vertical"==a.direction?a.container==window?d+h<s&&c||d>n&&c:d>l-a.tolerance&&c||-h+a.tolerance>d&&c:"horizontal"==a.direction?a.container==window?e+k<t&&c||e>p&&c:e>m-a.tolerance&&c||-k+a.tolerance>e&&c:void 0,q&&(a.toggleClass&&b.removeClass("onScreen"),
"function"==typeof a.doOut&&a.doOut.call(b[0]),c=!1))}var c=!1,s,t,b=f(this),g,l,m,n,p,h,k,d,e;window.location.hash||r();f(a.container).on("scroll",r).on("resize",r)})}})(jQuery);