(function(e){e.fn.onScreen=function(t){params=e.extend({doIn:null,doOut:null,tolerance:0},t);return this.each(function(){function s(){return elTop<winBottom-params.tolerance&&n<elTop+elHeight-params.tolerance&&!t}function o(){return elTop+elHeight<n&&t||elTop>winBottom&&t}function u(){$win=e(window);winHeight=$win.height();winWidth=$win.width();winBottom=$win.scrollTop()+winHeight;elHeight=i.height();elWidth=i.height();elTop=i.offset().top;elLeft=i.offset().left;n=$win.scrollTop();if(s()){i.addClass("onScreen");if(typeof params.doIn=="function"){params.doIn.call(i[0])}t=true}else if(o()){i.removeClass("onScreen");if(typeof params.doOut=="function"){params.doOut.call(i[0])}t=false}}var t=false;var n;var r;var i=e(this);e(window).on("scroll",u).on("resize",u).on("load",u)})}})(jQuery)